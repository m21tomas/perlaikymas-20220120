{"ast":null,"code":"import _regeneratorRuntime from\"/home/tomas/Documents/traukinys/tomasm21-www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/tomas/Documents/traukinys/tomasm21-www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/tomas/Documents/traukinys/tomasm21-www/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'react';import'bootstrap/dist/css/bootstrap.min.css';var AddNewItem=function AddNewItem(props){var _useState=useState({trainNumber:\"\",yearManufacture:\"\",manufacturer:\"\",wagons:\"\",departureCity:\"\",arrivalCity:\"\"}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),itemAdd=_useState4[0],setItemAdded=_useState4[1];var intervalID=setInterval(unsetText,3000);var item={};var handleChange=function handleChange(e){var id_num=props.trainList.length+1;item[\"id\"]=id_num;var name=e.target.name;var value=e.target.value;item[name]=value;console.log(\"AddNewItem.js handleChange item log:\");console.log(item);};var submitHandle=function submitHandle(e){props.parentCallback(item);setItemAdded(item.title+\" is added to the Shop products list\");intervalID=setInterval(unsetText,3000);setState({trainNumber:\"\",yearManufacture:\"\",manufacturer:\"\",wagons:\"\",departureCity:\"\",arrivalCity:\"\"});console.log(\"AddNewItem.js submit state: \"+state);e.preventDefault();};function unsetText(){setItemAdded(\"\");clearInterval(intervalID);}var uploadCenter=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(process.env.PUBLIC_URL+\"/api/trains\",state);case 3:response=_context.sent;if(response.status<400){console.log(\"data is sent to backend\");}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function uploadCenter(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:submitHandle},/*#__PURE__*/React.createElement(\"div\",{className:\"row bg-dark col-5-lg\",style:{color:\"white\",\"width\":\"400px\"}},/*#__PURE__*/React.createElement(\"h4\",null,\"Prid\\u0117ti nauj\\u0105 traukin\\u012F\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row pt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5-lg\"},/*#__PURE__*/React.createElement(\"span\",{className:\"m-2\"},\"Traukinio numeris:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"col-5-lg\",type:\"text\",maxLength:10,name:\"trainNumber\",placeholder:\"Pavadinimas\",onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row pt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5-lg\"},/*#__PURE__*/React.createElement(\"span\",{className:\"m-2\"},\"Pagaminimo metai:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"col-5-lg\",type:\"text\",maxLength:4,name:\"yearManufacture\",placeholder:\"Paveiksliukas\",onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row pt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-5-lg\"},/*#__PURE__*/React.createElement(\"span\",{className:\"m-2\"},\"Gamintojas\"),/*#__PURE__*/React.createElement(\"input\",{className:\"col-5-lg\",type:\"text\",maxLength:20,name:\"manufacturer\",placeholder:\"Apra\\u0161ymas (URL / classpath)\",onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row pt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"m-2\"},\"Vagonu skaicius:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"col\",type:\"text\",maxLength:7,name:\"wagons\",placeholder:\"Kaina\",onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row pt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"m-2\"},\"I\\u0161vykimo miestas:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"col\",type:\"text\",maxLength:30,name:\"departureCity\",placeholder:\"Kiekis\",onChange:handleChange}))),/*#__PURE__*/React.createElement(\"div\",{className:\"row pt-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"span\",{className:\"m-2\"},\"Atvykimo miestas:\"),/*#__PURE__*/React.createElement(\"input\",{className:\"col\",type:\"text\",maxLength:30,name:\"arrivalCity\",placeholder:\"Kiekis\",onChange:handleChange}))),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Add..\"})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",{name:\"place\"},itemAdd)));};export default AddNewItem;","map":{"version":3,"sources":["/home/tomas/Documents/traukinys/tomasm21-www/src/Components/AddNewItem.js"],"names":["React","useState","axios","AddNewItem","props","trainNumber","yearManufacture","manufacturer","wagons","departureCity","arrivalCity","state","setState","itemAdd","setItemAdded","intervalID","setInterval","unsetText","item","handleChange","e","id_num","trainList","length","name","target","value","console","log","submitHandle","parentCallback","title","preventDefault","clearInterval","uploadCenter","post","process","env","PUBLIC_URL","response","status","color"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport axios from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst AddNewItem = (props) => {\n\n    const [state, setState] = useState({ trainNumber: \"\", yearManufacture: \"\", manufacturer: \"\", wagons: \"\", departureCity: \"\", arrivalCity:\"\" });\n    const [itemAdd, setItemAdded] = useState(\"\");\n    var intervalID = setInterval(unsetText, 3000);\n\n    let item = {};\n    const handleChange = (e) => {\n        let id_num = props.trainList.length + 1;\n        item[\"id\"] = id_num;\n        let name = e.target.name;\n        let value = e.target.value;\n        item[name] = value;\n        console.log(\"AddNewItem.js handleChange item log:\");\n        console.log(item);\n    }\n\n    const submitHandle = (e) => {\n        props.parentCallback(item);\n        setItemAdded(item.title + \" is added to the Shop products list\");\n        intervalID = setInterval(unsetText, 3000);\n        setState({ trainNumber: \"\", yearManufacture: \"\", manufacturer: \"\", wagons: \"\", departureCity: \"\", arrivalCity:\"\"  })\n        console.log(\"AddNewItem.js submit state: \" + state);\n        e.preventDefault();\n    }\n\n    function unsetText() {\n        setItemAdded(\"\");\n        clearInterval(intervalID);\n    }\n\n    const uploadCenter = async () => {\n\n        try {\n           const response = await axios.post(process.env.PUBLIC_URL + \"/api/trains\", state);\n            if (response.status < 400) {\n             console.log(\"data is sent to backend\");\n            }\n\n        } catch (err) {\n            console.log(err);\n        }\n\n    }\n\n    return (\n        <div className='container'>\n\n\n            <form onSubmit={submitHandle} >\n\n                <div className=\"row bg-dark col-5-lg\" style={{ color: \"white\", \"width\": \"400px\" }}>\n                    <h4>Pridėti naują traukinį</h4>\n                </div>\n                <div className=\"row pt-2\">\n                    <div className=\"col-5-lg\">\n                        <span className=\"m-2\">Traukinio numeris:</span>\n                        <input className=\"col-5-lg\" type=\"text\"\n                            maxLength={10}\n                            name=\"trainNumber\"\n                            placeholder=\"Pavadinimas\"\n                            onChange={handleChange} />\n\n                    </div>\n                </div>\n                <div className=\"row pt-2\">\n                    <div className=\"col-5-lg\">\n                        <span className=\"m-2\">Pagaminimo metai:</span>\n                        <input className=\"col-5-lg\" type=\"text\"\n                            maxLength={4}\n                            name=\"yearManufacture\"\n                            placeholder=\"Paveiksliukas\"\n                            onChange={handleChange} />\n                    </div>\n                </div>\n                <div className=\"row pt-2\">\n                    <div className=\"col-5-lg\">\n                        <span className=\"m-2\">Gamintojas</span>\n                        <input className=\"col-5-lg\" type=\"text\"\n                            maxLength={20}\n                            name=\"manufacturer\"\n                            placeholder=\"Aprašymas (URL / classpath)\"\n                            onChange={handleChange} />\n\n                    </div>\n                </div>\n                <div className=\"row pt-2\">\n                    <div className=\"col\">\n                        <span className=\"m-2\">Vagonu skaicius:</span>\n                        <input className=\"col\" type=\"text\"\n                            maxLength={7}\n                            name=\"wagons\"\n                            placeholder=\"Kaina\"\n                            onChange={handleChange} />\n\n                    </div>\n                </div>\n                <div className=\"row pt-2\">\n                    <div className=\"col\">\n                        <span className=\"m-2\">Išvykimo miestas:</span>\n                        <input className=\"col\" type=\"text\"\n                            maxLength={30}\n                            name=\"departureCity\"\n                            placeholder=\"Kiekis\"\n                            onChange={handleChange} />\n                    </div>\n                </div>\n                <div className=\"row pt-2\">\n                    <div className=\"col\">\n                        <span className=\"m-2\">Atvykimo miestas:</span>\n                        <input className=\"col\" type=\"text\"\n                            maxLength={30}\n                            name=\"arrivalCity\"\n                            placeholder=\"Kiekis\"\n                            onChange={handleChange} />\n                    </div>\n                </div>\n                <input type=\"submit\" value=\"Add..\" />\n            </form>\n            <div>\n                <h3 name=\"place\">{itemAdd}</h3>\n            </div>\n        </div>\n    )\n}\n\nexport default AddNewItem;"]},"metadata":{},"sourceType":"module"}